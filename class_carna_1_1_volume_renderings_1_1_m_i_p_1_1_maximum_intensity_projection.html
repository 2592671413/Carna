<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Carna: Carna::VolumeRenderings::MIP::MaximumIntensityProjection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doc_00style.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Carna&#160;<span id="projectnumber">Version 2.5.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_carna.html">Carna</a>      </li>
      <li class="navelem"><a class="el" href="namespace_carna_1_1_volume_renderings.html">VolumeRenderings</a>      </li>
      <li class="navelem"><a class="el" href="namespace_carna_1_1_volume_renderings_1_1_m_i_p.html">MIP</a>      </li>
      <li class="navelem"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html">MaximumIntensityProjection</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Carna::VolumeRenderings::MIP::MaximumIntensityProjection Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Carna::VolumeRenderings::MIP::MaximumIntensityProjection" --><!-- doxytag: inherits="Carna::VolumeRenderings::VolumeRendererMode" -->
<p><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html">VolumeRendererMode</a> implementation that provides a maximum intensity projection.  
 <a href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_maximum_intensity_projection_8h_source.html">MaximumIntensityProjection.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for Carna::VolumeRenderings::MIP::MaximumIntensityProjection:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection__inherit__graph.png" border="0" usemap="#_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_inherit__map" alt="Inheritance graph"/></div>
<map name="_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_inherit__map" id="_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_inherit__map">
<area shape="rect" id="node2" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html" title="Abstract base class for ray marching implementations." alt="" coords="39,5,348,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for Carna::VolumeRenderings::MIP::MaximumIntensityProjection:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection__coll__graph.png" border="0" usemap="#_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_coll__map" alt="Collaboration graph"/></div>
<map name="_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_coll__map" id="_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection_coll__map">
<area shape="rect" id="node2" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html" title="Abstract base class for ray marching implementations." alt="" coords="39,355,348,381"/><area shape="rect" id="node4" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html" title="Abstract Renderer specialization that is supposed to utilize Ray Marching as it&#39;s rendering technique..." alt="" coords="55,264,332,291"/><area shape="rect" id="node6" href="class_carna_1_1base_1_1view_1_1_renderer.html" title="Represents the view component of a visualization and implements its rendering logic." alt="" coords="101,187,285,213"/><area shape="rect" id="node8" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e..." alt="" coords="86,96,300,123"/><area shape="rect" id="node10" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model." alt="" coords="103,5,283,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38c49c383fb4e98fa50e8b4a51ecaaeb"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::ChannelVisitor" ref="a38c49c383fb4e98fa50e8b4a51ecaaeb" args="" -->
typedef std::function&lt; bool(<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Channel</a> &amp;) &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a38c49c383fb4e98fa50e8b4a51ecaaeb">ChannelVisitor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines visitor interface to mutable <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Channel</a> objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbf587fbb5c52c8b1721e14b04c2e6a3"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::ConstChannelVisitor" ref="adbf587fbb5c52c8b1721e14b04c2e6a3" args="" -->
typedef std::function&lt; bool(const <br class="typebreak"/>
<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Channel</a> &amp;) &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#adbf587fbb5c52c8b1721e14b04c2e6a3">ConstChannelVisitor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines visitor interface to immutable <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Channel</a> objects. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#aa924eb09cde038bb98e40786c3bddcce">ascendChannel</a> (const <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> &amp;channnel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps positions of <em>channel</em> with it's successor in the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a>.  <a href="#aa924eb09cde038bb98e40786c3bddcce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a04dc4dca6ef88f0324632825caaa0e91">addChannel</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends <em>channel</em> to the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a> and takes it's ownership.  <a href="#a04dc4dca6ef88f0324632825caaa0e91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a78dde4d1dd62694c111fcc6459babad9">removeChannel</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> &amp;channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes <em>channel</em> from the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a>.  <a href="#a78dde4d1dd62694c111fcc6459babad9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a998ba67d4fc9a4eb13d1bea349600eb1"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::MaximumIntensityProjection" ref="a998ba67d4fc9a4eb13d1bea349600eb1" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a998ba67d4fc9a4eb13d1bea349600eb1">MaximumIntensityProjection</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0fdd8be3f160fa96742e1cce0f666b9"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::~MaximumIntensityProjection" ref="ac0fdd8be3f160fa96742e1cce0f666b9" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#ac0fdd8be3f160fa96742e1cce0f666b9">~MaximumIntensityProjection</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47779ec5eecca15b3a352351ac0a88c1"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::createControllerUI" ref="a47779ec5eecca15b3a352351ac0a88c1" args="() override" -->
virtual QWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a47779ec5eecca15b3a352351ac0a88c1">createControllerUI</a> () override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates and returns this mode's controller UI element or <code>nullptr</code> if it has none. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ec9b9114e05f0e8831b8d20bd0fdf6e"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::renderColor" ref="a5ec9b9114e05f0e8831b8d20bd0fdf6e" args="(RayMarching &amp;) override" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a5ec9b9114e05f0e8831b8d20bd0fdf6e">renderColor</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_ray_marching.html">RayMarching</a> &amp;) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the rendering. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8afac108eb2a30c316219ddad03598b3"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::renderDepth" ref="a8afac108eb2a30c316219ddad03598b3" args="(RayMarching &amp;) override" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a8afac108eb2a30c316219ddad03598b3">renderDepth</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_ray_marching.html">RayMarching</a> &amp;) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Null-implementation of <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a2878d62c57867c9483b65f03fa3339f6">VolumeRendererMode::renderDepth</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35461d796374c8dffcca17d2525a77a0"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::prepareForRenderer" ref="a35461d796374c8dffcca17d2525a77a0" args="(VolumeRenderer &amp;) override" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a35461d796374c8dffcca17d2525a77a0">prepareForRenderer</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">VolumeRenderer</a> &amp;) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires framebuffer object and an 'initial' channel. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a819047d9a172ba717aaf927b60ca3e2b"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::start" ref="a819047d9a172ba717aaf927b60ca3e2b" args="() override" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a819047d9a172ba717aaf927b60ca3e2b">start</a> () override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates alpha blending. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86680b2714b14aa2104a3c2f61058c62"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::resizeBuffers" ref="a86680b2714b14aa2104a3c2f61058c62" args="(int w, int h) override" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a86680b2714b14aa2104a3c2f61058c62">resizeBuffers</a> (int w, int h) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the framebuffer object and all maximum intensity textures. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a079e3439902f1a874d5a9b03d3c98bf7"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::visitChannels" ref="a079e3439902f1a874d5a9b03d3c98bf7" args="(ChannelVisitor &amp;visitor)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a079e3439902f1a874d5a9b03d3c98bf7">visitChannels</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a38c49c383fb4e98fa50e8b4a51ecaaeb">ChannelVisitor</a> &amp;visitor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Accepts <em>visitor</em> and makes it visit all channels. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4f012b900c924a52a3e045be06e3a61"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::visitChannels" ref="ae4f012b900c924a52a3e045be06e3a61" args="(ConstChannelVisitor &amp;visitor) const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#ae4f012b900c924a52a3e045be06e3a61">visitChannels</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#adbf587fbb5c52c8b1721e14b04c2e6a3">ConstChannelVisitor</a> &amp;visitor) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Accepts <em>visitor</em> and makes it visit all channels. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad83047d8c7801089d0dcb9b59b86c8d4"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::NAME" ref="ad83047d8c7801089d0dcb9b59b86c8d4" args="" -->
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#ad83047d8c7801089d0dcb9b59b86c8d4">NAME</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#abe8917af30fb3578be2d38be49f9ca35">human-readable name</a> of this volume rendering mode. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html">VolumeRendererMode</a> implementation that provides a maximum intensity projection. </p>
<div class="image">
<img src="MaximumIntensityProjection01.jpg" alt="MaximumIntensityProjection01.jpg"/>
<div class="caption">
Example maximum intensity projection rendering</div></div>
 <h2><a class="anchor" id="MIP_Usage"></a>
Usage</h2>
<p>The utilization of maximum intensity projections is as simple as obtaining an object from <code>MaximumIntensityProjection</code> class and installing it on a <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html">volume visualization</a>:</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">using namespace </span>Carna::VolumeRenderings;
 <span class="keyword">using namespace </span>Carna::VolumeRenderings::MIP;

 <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">VolumeVisualization</a>* <span class="keyword">const</span> visualization = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">DefaultVolumeVisualization</a>();
 visualization-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
     {
         <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html" title="VolumeRendererMode implementation that provides a maximum intensity projection.">MaximumIntensityProjection</a>* <span class="keyword">const</span> mip = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a998ba67d4fc9a4eb13d1bea349600eb1" title="Instantiates.">MaximumIntensityProjection</a>();
         visualization-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( mip );

         <span class="comment">// set the maximum intensity projection as the active visualization mode</span>
         visualization-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#ad83047d8c7801089d0dcb9b59b86c8d4" title="Holds the human-readable name of this volume rendering mode.">MaximumIntensityProjection::NAME</a> );
     }
 );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>Refer to <a class="el" href="_quick_start.html#VolumeRenderingExample">Volume Visualization Example Code</a> for more complete examples.</dd></dl>
<p>The <code>MaximumIntensityProjection</code> class is capable of visualizing different HU ranges in different colors. In order to achieve this, it associates each HU range with a starting and an ending color. HU values in between are interpolated linearly. Each HU range that is associated with such two colors is called a <em>channel</em>.</p>
<h3><a class="anchor" id="MIP_Channels"></a>
Channels</h3>
<p><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Channels</a> are allowed to be <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a04dc4dca6ef88f0324632825caaa0e91">added</a>, <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a78dde4d1dd62694c111fcc6459babad9">removed</a> and <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#a079e3439902f1a874d5a9b03d3c98bf7">modified</a> at any time, but not before the <code>MaximumIntensityProjection</code> object was installed on a renderer. There are a few things to know about channels that are best explained with an example.</p>
<p>Let there be the two channels \([-1024, 0]\to[\text{black}, \text{green}]\) and \([1;3071]\to[\text{blue}, \text{red}]\). Futhermore, imagine the maximum intensity projection was being rendered from such a perspective, that two voxels with the HU values \(0\) and \(3071\) were mapped to the same screen pixels. Since \(3071\) represents a higher intensity than \(0\), usually one would expect the resulting pixel color to be \(\text{red}\). However, there might be use cases that do benefit from the information that <em>both</em> channels attain very high values regarding their HU ranges respectively. The following two directives are made to enable this:</p>
<ul>
<li>The channels are organized in an ordered list.</li>
<li>Each channel is associated with a particular blending <em>function</em> from type \((\text{Color},\text{Color})\to\text{Color}\).</li>
</ul>
<p>The rule is: For each pixel, all channels are evaluated sequentially, starting with the lower ordered channels. If the channel produces a pixel color, the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel_function.html">channel function</a> is used to incorporate the produced pixel color with the pixel color that was generated by the lower ordered channels. The resulting pixel color is again incorporated by the next higher ordered channel and so on.</p>
<p>There are two channel functions available out of the box: pixel colors generated by higher ordered channels either <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel_replace_function.html">replace pixel colors</a> that are generated by lower ordered channels, or they are <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel_add_function.html">summed up</a>. In the example above, if the channels were set to additive, the resulting pixel color was \(\text{green} + \text{red} = \text{yellow}\).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The <code>MaximumIntensityProjection</code> class supports <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#aa924eb09cde038bb98e40786c3bddcce">swapping</a> neighboring channels as a direct operation.</dd></dl>
<p>The moment the <code>MaximumIntensityProjection</code> object is installed on a renderer, the channels list is set to it's initial state: The channel \(( [-1024, 3071] \to [\mathrm{rgba}(1,1,1,0), \mathrm{rgba}(1,1,1,1)] )\) is the only channel than. The pixels it produces are configured to replace any previously drawn pixels. However, this is of no interest as long as no further channels are added.</p>
<p>If all channels were removed from the list, nothing will be rendered.</p>
<h2><a class="anchor" id="MIP_Algorithm"></a>
Algorithm</h2>
<p>The algorithm is based on <a class="el" href="class_carna_1_1_volume_renderings_1_1_default_volume_renderer.html#VolumeRendererRayMarching">ray marching</a>: For each screen fragment a ray is casted through the volume. For $n$ channels, the resulting pixel color $p_n$ is obtained through sampling volume intensities along the ray \(r \subset \mathbb{R}^3\). With the channel's blending function \( f_i : (\text{Color}, \text{Color}) \to \text{Color}\) and it's color map \(c_i : [-1024, 3071] \to \text{Color}\) the resulting pixel color $p_n$ is defined through:</p>
<p class="formulaDsp">
\[ p_i = \begin{cases} 0 &amp; \text{if } i = 0 \\ f_i\left( c_{i-1},\ c_i\left( \max\limits_{x \in X\left(r, c_i\right)}\ a\left(x\right) \right) \right) &amp; \text{else.} \end{cases} \]
</p>
<p>As stated in the section above, we are not interested in \(\max\limits_{x \in r}\ a(x)\), where \(a : \mathbb{R}^3 \to \mathbb{R}\) is the volume data of interest. Instead, we are only looking at those ray voxels that are mapped into the domain of the channel's color map \(c_i\):</p>
<p class="formulaDsp">
\[ X\left(r, c_i\right) = \left\{ x | x \in r \wedge \exists y \in \text{Color} : \left(a(x), y\right) \in c_i \right\} \]
</p>
<p>The blending function \( f_i \) is defined generally as</p>
<p class="formulaDsp">
\[ f_i( c_\text{prev}, c_\text{new} ) = \gamma_\text{prev} c_\text{prev} + \gamma_\text{new} c_\text{new} \]
</p>
<p>where \( \gamma_\text{prev}, \gamma_\text{new} \) are two weightening terms. For example, the <em>replacing</em> blending function is defined through</p>
<p class="formulaDsp">
\[ \gamma_\text{prev} = 1 - \alpha(c_\text{new}) \quad\text{and}\quad \gamma_\text{new} = \alpha(c_\text{new}) \text{,} \]
</p>
<p>whereas the <em>additive</em> blending function uses</p>
<p class="formulaDsp">
\[ \gamma_\text{prev} = 1 \quad\text{and}\quad \gamma_\text{new} = \alpha(c_\text{new}) \text{.} \]
</p>
<p>The function \( \alpha : \text{Color} \to [0, 1] \) references the alpha component of a given color.</p>
<h2><a class="anchor" id="MIP_Implementation"></a>
Implementation</h2>
<p>The implementation consists of two steps:</p>
<ol type="1">
<li>For every channel \(i\) a maximum intensity texture is rendered, that consists of only one 8bit floating point color channel, evaluating each pixel likes as follows, where \(\mathbb{D}\) denotes the domain of a function: <p class="formulaDsp">
\[ \mathrm{ pixel } = \begin{cases} \left( \max\limits_{x \in X\left(r, c_i\right)}\ a(x) - \min\left(\mathbb{D} f_i\right) \right) \cdot\frac{1}{ \max\left(\mathbb{D} f_i\right) - \min\left(\mathbb{D} f_i\right) } &amp; \text{if } X\left(r, c_i\right) \neq \emptyset \\ 0 &amp; \text{else.} \end{cases} \]
</p>
 This is done by the <em>MIP-shader</em>, that is implemented in <em>mip.frag</em>.</li>
<li>The per-channel maximum intensity textures are rendered one upon each other, using their corresponding blending functions and the <em>mip-colorizer</em> shader, that performs the color mapping. The shader is implemented in <em>mip-colorizer.frag</em>.</li>
</ol>
<p>Since the volume needs to be evaluated multiple times, the <code>MaximumIntensityProjection</code> is not derived from <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_single_pass_mode.html">VolumeRendererSinglePassMode</a>. The alternative would be performing a multitude of dynamic branches, which is told to be deadly slow on GPU.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Leonid Kostrykin </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>26.7.11 - 17.6.14 </dd></dl>

<p>Definition at line <a class="el" href="_maximum_intensity_projection_8h_source.html#l00192">192</a> of file <a class="el" href="_maximum_intensity_projection_8h_source.html">MaximumIntensityProjection.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a04dc4dca6ef88f0324632825caaa0e91"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::addChannel" ref="a04dc4dca6ef88f0324632825caaa0e91" args="(Carna::VolumeRenderings::MIP::Channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Carna::VolumeRenderings::MIP::MaximumIntensityProjection::addChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appends <em>channel</em> to the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a> and takes it's ownership. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><em>channel</em> is not in channels list yet </dd>
<dd>
<code><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#af0355e5378dae09371594f5b1fa1d87d" title="Tells whether prepareForRenderer already has been invoked.">isInitialized()</a></code></dd></dl>
<p>Also <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a28a2c6a6b66710dc95a1e9a0c46ad29c">invalidates the renderer</a>. </p>

</div>
</div>
<a class="anchor" id="aa924eb09cde038bb98e40786c3bddcce"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::ascendChannel" ref="aa924eb09cde038bb98e40786c3bddcce" args="(const Carna::VolumeRenderings::MIP::Channel &amp;channnel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Carna::VolumeRenderings::MIP::MaximumIntensityProjection::ascendChannel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> &amp;&#160;</td>
          <td class="paramname"><em>channnel</em></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Swaps positions of <em>channel</em> with it's successor in the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a>. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><em>channel</em> is in channels list </dd>
<dd>
<em>channel</em> has successor </dd>
<dd>
<code><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#af0355e5378dae09371594f5b1fa1d87d" title="Tells whether prepareForRenderer already has been invoked.">isInitialized()</a></code></dd></dl>
<p>Also <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a28a2c6a6b66710dc95a1e9a0c46ad29c">invalidates the renderer</a>. </p>

</div>
</div>
<a class="anchor" id="a78dde4d1dd62694c111fcc6459babad9"></a><!-- doxytag: member="Carna::VolumeRenderings::MIP::MaximumIntensityProjection::removeChannel" ref="a78dde4d1dd62694c111fcc6459babad9" args="(Carna::VolumeRenderings::MIP::Channel &amp;channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Carna::VolumeRenderings::MIP::MaximumIntensityProjection::removeChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_channel.html">Carna::VolumeRenderings::MIP::Channel</a> &amp;&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes <em>channel</em> from the <a class="el" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html#MIP_Channels">channels list</a>. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Does <em>not</em> delete the channel! The ownership of <em>channel</em> is handed to the caller.</dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><em>channel</em> is in channels list </dd>
<dd>
<code><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#af0355e5378dae09371594f5b1fa1d87d" title="Tells whether prepareForRenderer already has been invoked.">isInitialized()</a></code></dd></dl>
<p>Also <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a28a2c6a6b66710dc95a1e9a0c46ad29c">invalidates the renderer</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Carna/VolumeRenderings/MIP/<a class="el" href="_maximum_intensity_projection_8h_source.html">MaximumIntensityProjection.h</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
			Written by <a href="http://evoid.de">Leonid Kostrykin</a> at the
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
