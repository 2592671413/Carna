<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Carna: Carna::base::SpatialMovement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Carna
   &#160;<span id="projectnumber">Version 3.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Carna</b></li><li class="navelem"><a class="el" href="namespace_carna_1_1base.html">base</a></li><li class="navelem"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html">SpatialMovement</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_carna_1_1base_1_1_spatial_movement-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Carna::base::SpatialMovement Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the displacement of a <a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a> object in a drag-&amp;-drop like manner.  
 <a href="class_carna_1_1base_1_1_spatial_movement.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_spatial_movement_8h_source.html">SpatialMovement.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Carna::base::SpatialMovement:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_carna_1_1base_1_1_spatial_movement__coll__graph.png" border="0" usemap="#_carna_1_1base_1_1_spatial_movement_coll__map" alt="Collaboration graph"/></div>
<map name="_carna_1_1base_1_1_spatial_movement_coll__map" id="_carna_1_1base_1_1_spatial_movement_coll__map">
<area shape="rect" id="node2" href="class_carna_1_1base_1_1_camera.html" title="Represents the point&#45;of&#45;view and defines the 3D to 2D projection. " alt="" coords="5,83,149,109"/><area shape="rect" id="node4" href="class_carna_1_1base_1_1_spatial.html" title="Represents a spatial scene element. It&#39;s location is determined relatively to another spatial that is..." alt="" coords="7,5,147,32"/><area shape="rect" id="node6" href="class_carna_1_1base_1_1_viewport.html" title="Defines a rendering viewport. The viewport is a property of the current OpenGL context. " alt="" coords="174,83,324,109"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8842d4e33baf8def5836f19fab1267f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a8842d4e33baf8def5836f19fab1267f9">SpatialMovement</a> (<a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a> &amp;<a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a45b6b77f27e629a30848b4a792ca1a2e">movedSpatial</a>, unsigned int frameX, unsigned int frameY, const <a class="el" href="class_carna_1_1base_1_1_viewport.html">Viewport</a> &amp;vp, const <a class="el" href="class_carna_1_1base_1_1_camera.html">Camera</a> &amp;<a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#ae11cc432ff73f17dee4fea5f3437e701">cam</a>)</td></tr>
<tr class="memdesc:a8842d4e33baf8def5836f19fab1267f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the spatial movement. This corresponds to "picking up" the spatial.  <a href="#a8842d4e33baf8def5836f19fab1267f9">More...</a><br /></td></tr>
<tr class="separator:a8842d4e33baf8def5836f19fab1267f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d7098e6d21c530954f227ba20d6116"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14d7098e6d21c530954f227ba20d6116"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a14d7098e6d21c530954f227ba20d6116">~SpatialMovement</a> ()</td></tr>
<tr class="memdesc:a14d7098e6d21c530954f227ba20d6116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes. <br /></td></tr>
<tr class="separator:a14d7098e6d21c530954f227ba20d6116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070ed3fa56dba6898486eca942745dfc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a070ed3fa56dba6898486eca942745dfc">update</a> (unsigned int frameX, unsigned int frameY)</td></tr>
<tr class="memdesc:a070ed3fa56dba6898486eca942745dfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the moved spatial object's location. Returns <code>true</code> if and only if the object's location changed.  <a href="#a070ed3fa56dba6898486eca942745dfc">More...</a><br /></td></tr>
<tr class="separator:a070ed3fa56dba6898486eca942745dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fc097305e5ce8a2348a4c46099862f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2fc097305e5ce8a2348a4c46099862f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#ab2fc097305e5ce8a2348a4c46099862f">hasMovedSpatial</a> () const </td></tr>
<tr class="memdesc:ab2fc097305e5ce8a2348a4c46099862f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells <code>true</code> if the spatial given to the constructor is <a class="el" href="class_carna_1_1base_1_1_spatial.html#a28c8aded69a9d3c13f869cdb4a6cbdc9">movable</a>. Tells also <code>true</code> if it is not movable, but another movable object exists on it's path to the root. Tells <code>false</code> otherwise. <br /></td></tr>
<tr class="separator:ab2fc097305e5ce8a2348a4c46099862f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b6b77f27e629a30848b4a792ca1a2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a45b6b77f27e629a30848b4a792ca1a2e">movedSpatial</a> () const </td></tr>
<tr class="memdesc:a45b6b77f27e629a30848b4a792ca1a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">References the actually moved spatial.  <a href="#a45b6b77f27e629a30848b4a792ca1a2e">More...</a><br /></td></tr>
<tr class="separator:a45b6b77f27e629a30848b4a792ca1a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8a49f7e294ae26b349b8f5510a085c6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a49f7e294ae26b349b8f5510a085c6f"></a>
const <a class="el" href="class_carna_1_1base_1_1_viewport.html">Viewport</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a8a49f7e294ae26b349b8f5510a085c6f">viewport</a></td></tr>
<tr class="memdesc:a8a49f7e294ae26b349b8f5510a085c6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">References the <a class="el" href="class_carna_1_1base_1_1_frame_renderer.html#a083e3fb9d39f9e202389f66890163fcd">root viewport</a> that the frame was rendered with. <br /></td></tr>
<tr class="separator:a8a49f7e294ae26b349b8f5510a085c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11cc432ff73f17dee4fea5f3437e701"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae11cc432ff73f17dee4fea5f3437e701"></a>
const <a class="el" href="class_carna_1_1base_1_1_camera.html">Camera</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#ae11cc432ff73f17dee4fea5f3437e701">cam</a></td></tr>
<tr class="memdesc:ae11cc432ff73f17dee4fea5f3437e701"><td class="mdescLeft">&#160;</td><td class="mdescRight">References the camera that the frame was rendered with. <br /></td></tr>
<tr class="separator:ae11cc432ff73f17dee4fea5f3437e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e02989a51a6285ae599de72d96b2b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44e02989a51a6285ae599de72d96b2b3"></a>
const <a class="el" href="namespace_carna_1_1base_1_1math.html#a991a0f5376e1e66d3d97eafed6d057ef">math::Matrix4f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#a44e02989a51a6285ae599de72d96b2b3">inverseProjection</a></td></tr>
<tr class="memdesc:a44e02989a51a6285ae599de72d96b2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the inverse of the <a class="el" href="class_carna_1_1base_1_1_camera.html#a865f4bd8d0d76a53834855eb5e9eb6bc">projection matrix</a> that the frame was rendered with. <br /></td></tr>
<tr class="separator:a44e02989a51a6285ae599de72d96b2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the displacement of a <a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a> object in a drag-&amp;-drop like manner. </p>
<p>If the object that is to be handled by an instance of this class is not <a class="el" href="class_carna_1_1base_1_1_spatial.html#a28c8aded69a9d3c13f869cdb4a6cbdc9">movable</a>, than instead it's first movable parent will be moved. If no movable parent exists on the path from the object to the scene root, nothing will be moved. Objects are always moved within the plane that is parallel to the projection plane and intersects the object's origin.</p>
<dl class="section attention"><dt>Attention</dt><dd>The class expects that neither the camera object, nor the projection, nor the frame viewport do change for the duration of the movement.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Leonid Kostrykin </dd></dl>
<dl class="section date"><dt>Date</dt><dd>22.2.15 - 16.3.15 </dd></dl>

<p>Definition at line <a class="el" href="_spatial_movement_8h_source.html#l00052">52</a> of file <a class="el" href="_spatial_movement_8h_source.html">SpatialMovement.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8842d4e33baf8def5836f19fab1267f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Carna::base::SpatialMovement::SpatialMovement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a> &amp;&#160;</td>
          <td class="paramname"><em>movedSpatial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frameX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frameY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_carna_1_1base_1_1_viewport.html">Viewport</a> &amp;&#160;</td>
          <td class="paramname"><em>vp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_carna_1_1base_1_1_camera.html">Camera</a> &amp;&#160;</td>
          <td class="paramname"><em>cam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the spatial movement. This corresponds to "picking up" the spatial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">movedSpatial</td><td>references the spatial object to move.</td></tr>
    <tr><td class="paramname">frameX</td><td>is the <a class="el" href="_coordinate_systems.html#FrameCoordinates">first frame coordinate</a>, where the spatial object has been picked up.</td></tr>
    <tr><td class="paramname">frameY</td><td>is the <a class="el" href="_coordinate_systems.html#FrameCoordinates">second frame coordinate</a>, where the spatial object has been picked up.</td></tr>
    <tr><td class="paramname">vp</td><td>references the <a class="el" href="class_carna_1_1base_1_1_frame_renderer.html#a083e3fb9d39f9e202389f66890163fcd">root viewport</a> the frame was rendered with.</td></tr>
    <tr><td class="paramname">cam</td><td>references the camera the frame was rendered with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a45b6b77f27e629a30848b4a792ca1a2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_carna_1_1base_1_1_spatial.html">Spatial</a>&amp; Carna::base::SpatialMovement::movedSpatial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References the actually moved spatial. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code><a class="el" href="class_carna_1_1base_1_1_spatial_movement.html#ab2fc097305e5ce8a2348a4c46099862f" title="Tells true if the spatial given to the constructor is movable. Tells also true if it is not movable...">hasMovedSpatial()</a> == true</code> </dd></dl>

</div>
</div>
<a class="anchor" id="a070ed3fa56dba6898486eca942745dfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Carna::base::SpatialMovement::update </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frameX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frameY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the moved spatial object's location. Returns <code>true</code> if and only if the object's location changed. </p>
<p>Invalidates the subtrees the moved spatial is within.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameX</td><td>is the <a class="el" href="_coordinate_systems.html#FrameCoordinates">first frame coordinate</a>, where the spatial object is to be moved to.</td></tr>
    <tr><td class="paramname">frameY</td><td>is the <a class="el" href="_coordinate_systems.html#FrameCoordinates">second frame coordinate</a>, where the spatial object is to be moved to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Carna/base/<a class="el" href="_spatial_movement_8h_source.html">SpatialMovement.h</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/>
    <address class="footer">
        <small>
			Written by <a href="http://evoid.de">Leonid Kostrykin</a> at the
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>
</body>
</html>
