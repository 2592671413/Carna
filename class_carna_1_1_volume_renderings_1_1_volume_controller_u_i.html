<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Carna: Carna::VolumeRenderings::VolumeControllerUI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doc_00style.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Carna&#160;<span id="projectnumber">Version 2.5.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_carna.html">Carna</a>      </li>
      <li class="navelem"><a class="el" href="namespace_carna_1_1_volume_renderings.html">VolumeRenderings</a>      </li>
      <li class="navelem"><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html">VolumeControllerUI</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Carna::VolumeRenderings::VolumeControllerUI Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Carna::VolumeRenderings::VolumeControllerUI" -->
<p><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">Volume renderings</a> configuration widget  
 <a href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_volume_controller_u_i_8h_source.html">VolumeControllerUI.h</a>&gt;</code></p>

<p><a href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#a453466299b1d42cd89ee2284509fe229">VolumeControllerUI</a> (<a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">VolumeRenderer</a> &amp;renderer, <a class="el" href="class_carna_1_1base_1_1model_1_1_scene.html">base::model::Scene</a> &amp;model)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates.  <a href="#a453466299b1d42cd89ee2284509fe229"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a6e4403bf642db3b1cc7b4c09878f27"></a><!-- doxytag: member="Carna::VolumeRenderings::VolumeControllerUI::~VolumeControllerUI" ref="a8a6e4403bf642db3b1cc7b4c09878f27" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#a8a6e4403bf642db3b1cc7b4c09878f27">~VolumeControllerUI</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the config widget of current <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html" title="Abstract base class for ray marching implementations.">VolumeRendererMode</a> from GUI, since each mode itself is responsible for deleting its resources. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">Volume renderings</a> configuration widget </p>
<h2><a class="anchor" id="VolumeControllerOperationModes"></a>
Controller UI Operational Modes</h2>
<p>This controller is able to operate in two modes:</p>
<ol type="1">
<li>Only controlling the associated <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">renderer's mode-independent settings</a></li>
<li>Controlling the whole volume rendering, including the <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a9801d16d3737e954693e910c7be8474b">controller UI obtained from it's current rendering mode</a></li>
</ol>
<p>The mode, in which this controller shall operate, is determined by the time at which the controller is instantiated: If the renderer, that is passed to the controller's constructor, already <em>has</em> rendering modes associated, than the controller will also take responsibility for controlling those modes. Otherwise, namely when the rendering modes are associated <em>later</em> - after the controller already has been instantiated - the rendering modes will be ignored.</p>
<h3><a class="anchor" id="VolumeControllerMinimal"></a>
Controlling Associated Renderer's Mode-independent Settings</h3>
<p>Example:</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">static</span> <span class="keywordtype">void</span> doVolumeRendererDemo( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; model )
 {
     <span class="keyword">using namespace </span>Carna::VolumeRenderings;

     <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">VolumeVisualization</a>* <span class="keyword">const</span> view = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">DefaultVolumeVisualization</a>();

  <span class="comment">// create controller UI</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html" title="Volume renderings configuration widget">VolumeControllerUI</a>* <span class="keyword">const</span> controller_ui =
                 <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#a453466299b1d42cd89ee2284509fe229" title="Instantiates.">VolumeControllerUI</a>( view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>(), model );

             controller_ui-&gt;setAttribute( Qt::WA_DeleteOnClose );
             controller_ui-&gt;show();
         }
     );

  <span class="comment">// setup renderer</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html" title="VolumeRendererMode that implements Digital Radiograph Reconstruction (DRR).">DRR::XRay</a>( model ) );
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html" title="VolumeRendererMode implementation that provides a maximum intensity projection.">MIP::MaximumIntensityProjection</a>() );
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html" title="VolumeRendererMode implementation which simulates light absorption on the basis of a color map...">DVR::DirectVolumeRendering</a>( model ) );

          <span class="comment">// set initial mode</span>

             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html#a776265a5d4b0bf32bb5e9ee287e2e1ad" title="Holds the human-readable name of this volume rendering mode.">DVR::DirectVolumeRendering::NAME</a> );
         }
     );
 }
</pre></div><p>The above code will produce this controller UI:</p>
<div class="image">
<img src="VolumeController02.png" alt="VolumeController02.png"/>
<div class="caption">
volume visualization controller UI with no support for rendering modes controlling</div></div>
 <h3><a class="anchor" id="VolumeControllerFull"></a>
Controlling Whole Volume Renderer</h3>
<p>Example:</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">static</span> <span class="keywordtype">void</span> doVolumeRendererDemo( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; model )
 {
     <span class="keyword">using namespace </span>Carna::VolumeRenderings;

     <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">VolumeVisualization</a>* <span class="keyword">const</span> view = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">DefaultVolumeVisualization</a>();

  <span class="comment">// setup renderer</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html" title="VolumeRendererMode that implements Digital Radiograph Reconstruction (DRR).">DRR::XRay</a>( model ) );
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html" title="VolumeRendererMode implementation that provides a maximum intensity projection.">MIP::MaximumIntensityProjection</a>() );
             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html" title="VolumeRendererMode implementation which simulates light absorption on the basis of a color map...">DVR::DirectVolumeRendering</a>( model ) );

          <span class="comment">// set initial mode</span>

             view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html#a776265a5d4b0bf32bb5e9ee287e2e1ad" title="Holds the human-readable name of this volume rendering mode.">DVR::DirectVolumeRendering::NAME</a> );
         }
     );

  <span class="comment">// create controller UI</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html" title="Volume renderings configuration widget">VolumeControllerUI</a>* <span class="keyword">const</span> controller_ui =
                 <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#a453466299b1d42cd89ee2284509fe229" title="Instantiates.">VolumeControllerUI</a>( view-&gt;<a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html#a0b110e3ccdcda4ffcd0e8b42d477491b" title="References the mutable composed renderer.">renderer</a>(), model );

             controller_ui-&gt;setAttribute( Qt::WA_DeleteOnClose );
             controller_ui-&gt;show();
         }
     );
 }
</pre></div><dl class="attention"><dt><b>Attention:</b></dt><dd>It is important that a <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html">VolumeRendererMode</a> rendering mode is <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html#aea234e606484e7dcd727cf2d6c2ded1a">already set</a> by the moment the controller is instantiated, when operating in this mode. Otherwise, the controller's constructor will throw an <a class="el" href="class_carna_1_1base_1_1_assertion_failure.html">base::AssertionFailure</a>.</dd></dl>
<p>The above code will produce this controller UI:</p>
<div class="image">
<img src="VolumeController01.png" alt="VolumeController01.png"/>
<div class="caption">
volume visualization controller UI with rendering modes support</div></div>
 <h2><a class="anchor" id="VolumeControllerFurther"></a>
Rendering Mode Controllers</h2>
<p>If you need to handle the rendering mode controllers on your own, e.g. place them somewhere differently but behind the general settings page of the volume controller, you should do the following:</p>
<ol type="1">
<li>Make the volume controller <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html#VolumeControllerMinimal">process only the renderer's mode-independent settings</a>.</li>
<li><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer_mode.html#a9801d16d3737e954693e910c7be8474b">Create rendering mode controllers</a> explicitly.</li>
</ol>
<dl class="author"><dt><b>Author:</b></dt><dd>Leonid Kostrykin </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>8.8.11 - 19.3.13 </dd></dl>

<p>Definition at line <a class="el" href="_volume_controller_u_i_8h_source.html#l00150">150</a> of file <a class="el" href="_volume_controller_u_i_8h_source.html">VolumeControllerUI.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a453466299b1d42cd89ee2284509fe229"></a><!-- doxytag: member="Carna::VolumeRenderings::VolumeControllerUI::VolumeControllerUI" ref="a453466299b1d42cd89ee2284509fe229" args="(VolumeRenderer &amp;renderer, base::model::Scene &amp;model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Carna::VolumeRenderings::VolumeControllerUI::VolumeControllerUI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">VolumeRenderer</a> &amp;&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_carna_1_1base_1_1model_1_1_scene.html">base::model::Scene</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instantiates. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><code>renderer.modes().empty() || renderer.hasMode()</code> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Carna/VolumeRenderings/<a class="el" href="_volume_controller_u_i_8h_source.html">VolumeControllerUI.h</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
			Written by <a href="http://evoid.de">Leonid Kostrykin</a> at the
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
