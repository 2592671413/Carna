<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Carna: Quick Start Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doc_00style.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Carna&#160;<span id="projectnumber">Version 2.5.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Quick Start Guide </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>On this page you will find some <a class="el" href="_quick_start.html#OverallDesign">introducting notes on the overall design</a> of the framework, along with several code snippets that are supposed to run out-of-the-box. Refer to <a class="el" href="_creating_views.html">Creating your own visualizations?</a> if you are looking for an example on how to implement an own visualization or renderer.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Carna is a visualization framework, hence it is not responsible of <em>loading</em> the data. Several ways of accomplishing this are described <a class="el" href="class_carna_1_1base_1_1model_1_1_scene.html#Scene_Instantiation">here</a>. To achieve maximum simlicity, the examples below all use the additional class <code>DicomSceneFactory</code> from the <a href="https://github.com/RWTHmediTEC/Carna-DICOM"><b>Carna-DICOM</b></a> package.</dd></dl>
<p>This page offers these examples in particular:</p>
<ul>
<li><a class="el" href="_quick_start.html#MinimalExample">Minimal Example</a></li>
<li><a class="el" href="_quick_start.html#VolumeRenderingExample">Volume Visualization Example Code</a></li>
<li><a class="el" href="_quick_start.html#SlicePlaneExample">Slice Plane Visualization Example Code</a></li>
<li><a class="el" href="_quick_start.html#MPRExample">MPR Example Code</a></li>
<li><a class="el" href="_quick_start.html#OffscreenRenderingExample">Offscreen Rendering Example Code</a></li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_quick_start.html#QuickStartLifetimes">Objects Lifetime Considerations</a> at the bottom of this page.</dd></dl>
<h2><a class="anchor" id="OverallDesign"></a>
Overall Design Notes</h2>
<p>The overall framework design is characterized by the MVC pattern. The <em>model</em> is to be unterstood as one loaded CT dataset. <em>Controllers</em> are such components that define the interaction behavior of visalizations. Beside of exactly one controller, each visualization is made up by a renderer, representing the <em>view</em> in the MVC context.</p>
<p>It is an important contribution of the MVC pattern, that models, views and controllers are generally interchangable. However, there are some restrictions to keep in mind. For example, the expected interaction behavior of a 3D volume rendering is different from that of a MPR: The latter one must allow the intuitive displacement of the planes, using drag-and-drop-like behavior. Therefore, the MPR controller must expect the renderer's interface to provide methods in order to access the planes' state.</p>
<p>This is the motivation behind abstract renderer interfaces, which were introduced in <a class="el" href="_version_log.html#v_2_3">API Version 2.3</a>. For example, the <a class="el" href="class_carna_1_1_m_p_r_1_1_axial_plane_renderer.html">AxialPlaneRenderer</a> is an abstract generalization of the <a class="el" href="class_carna_1_1_m_p_r_1_1_default_axial_plane_renderer.html">DefaultAxialPlaneRenderer</a> class, that defines as less logic as possible. Since the <a class="el" href="class_carna_1_1_m_p_r_1_1_axial_plane_controller.html">AxialPlaneController</a> depends on this minimal interface, it is possible to use the controller with any custom renderer implementation, the only requirement being that the renderer supports the interface defined by the abstract generalization.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Always use the abstract renderer classes instead of the concrete implementations. This keeps flexibility high and the efforts for any future renderer customizations low.</dd></dl>
<h2><a class="anchor" id="MinimalExample"></a>
Minimal Example</h2>
<p>Consider the code provided here as a full-working, minimal example, that produces a rendering similar to the one illustrated below. As visualization module, a volume renderer is used exemplary, configured to produce digitally reconstructed radiographs.</p>
<div class="image">
<img src="XRay01.png" alt="XRay01.png"/>
<div class="caption">
Illustration of the renderings produced by the code in this example</div></div>
<p>Also see the <a class="el" href="_quick_start.html#VolumeRenderingExample">Volume Visualization Example Code</a> for a more detailed example on volume renderings.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;QApplication&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_x_ray_8h.html" title="Defines Carna::VolumeRenderings::DRR::XRay.">Carna/VolumeRenderings/DRR/XRay.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_volume_renderer_8h.html" title="Defines Carna::VolumeRenderings::VolumeRenderer.">Carna/VolumeRenderings/VolumeRenderer.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_default_volume_visualization_8h.html" title="Defines Carna::VolumeRenderings::DefaultVolumeVisualization.">Carna/VolumeRenderings/DefaultVolumeVisualization.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;Carna/dicom/DicomSceneFactory.h&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_8h.html" title="Defines Carna::base::model::Scene.">Carna/base/model/Scene.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_provider_8h.html" title="Defines Carna::base::view::SceneProvider.">Carna/base/view/SceneProvider.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_display_8h.html" title="Defines Carna::base::qt::Display.">Carna/base/qt/Display.h</a>&gt;</span>
 
 <span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
 {
     QApplication app( argc, argv );

  <span class="comment">// create data model</span>

     Carna::dicom::DicomSceneFactory modelFactory;
     std::unique_ptr&lt; Carna::base::model::Scene &gt; scene( modelFactory.createFromUserInput() );
     <span class="keywordflow">if</span>( scene.get() == nullptr )
     {
         <span class="keywordflow">return</span> 0;
     }

  <span class="comment">// create view</span>
 
     <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">Carna::VolumeRenderings::VolumeVisualization</a>* <span class="keyword">const</span> view
            = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">Carna::VolumeRenderings::DefaultVolumeVisualization</a>();

  <span class="comment">// setup renderer</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html" title="VolumeRendererMode that implements Digital Radiograph Reconstruction (DRR).">Carna::VolumeRenderings::DRR::XRay</a>( *scene ) );

          <span class="comment">// set initial mode</span>

             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html#a01860050bbf2b6ce332eee279d21c908" title="Holds the human-readable name of this volume rendering mode.">Carna::VolumeRenderings::DRR::XRay::NAME</a> );
         }
     );
 
  <span class="comment">// setup view</span>

     <a class="code" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e...">Carna::base::view::SceneProvider</a> provider( *scene );
     <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>* <span class="keyword">const</span> display
         = <span class="keyword">new</span> <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>( view, provider ); <span class="comment">// takes ownership of &#39;view&#39;</span>

     display-&gt;setAttribute( Qt::WA_DeleteOnClose );
     display-&gt;show();

  <span class="comment">// run demo</span>

     <span class="keywordflow">return</span> app.exec();
 }
</pre></div><p>Note the utilization of <code>doAfterInitialization</code> for renderer setup: <a class="el" href="class_carna_1_1base_1_1_visualization.html#a700944111d574c8de90d2ddaba5bc3a0">Querying a visualization's renderer</a> is only legal when <a class="el" href="class_carna_1_1base_1_1_visualization.html#a742e2c29a2fda3fcf5a18ac245bf3504">Visualization::initialize</a> has been invoked priorly. However, the moment of this happening depends on externalities. By using <code>doAfterInitialization</code> it is guaranteed that the supplied code will be executed as soon as it is safe to access the renderer - this may be immediately as well as at any later moment.</p>
<h3><a class="anchor" id="LambdaExpressions"></a>
Lamda Closures</h3>
<p>Be cautious when using lambda expressions; it's your responsibility to choose the right capture specification. Capturing any referenced variable by reference with <code>[&amp;]</code> works well often, but may also lead to undefined behavior as in this example:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> adjustInteractionStrategy( <a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_visualization.html" title="Abstract implementation of the Visualization class that is supposed to display the orthogonal interse...">Carna::MPR::AxialPlaneVisualization</a>* module )
 {
     module-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]
         {
             <span class="keyword">static_cast&lt;</span> <a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_controller.html" title="AxialPlaneVisualization sufficient specialization of base::controller::DefaultInteractionStrategy">Carna::MPR::AxialPlaneController</a>&amp; <span class="keyword">&gt;</span>
                 ( module-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a279826d0d2c4c3799588c3a5c0469439" title="References the mutable raw controller.">rawController</a>() )
                     .setParentHavingContextMenu( <span class="keyword">true</span> );
         }
     );
 }
</pre></div><p>Since <code>module</code> is captured by reference, it's value will propably be lost by the moment that the lambda function is invoked. In this case one should choose <code>[module]</code> as capture specification or <code>[=]</code> at least. Below is a listing of all available closures - the closures can be combined using commas.</p>
<table class="doxtable">
<tr>
<th>Closure</th><th>Meaning </th></tr>
<tr>
<td><code>[]</code></td><td>Nothing is captured. </td></tr>
<tr>
<td><code>[&amp;]</code></td><td>All used variables are captured by reference. </td></tr>
<tr>
<td><code>[=]</code></td><td>All used variables are captured by value (making a copy). </td></tr>
<tr>
<td><code>[module]</code></td><td>The only thing captured is <code>module</code> (making a copy). </td></tr>
<tr>
<td><code>[&amp;module]</code></td><td>The only thing captured is <code>module</code> (by reference). </td></tr>
</table>
<p>Using <code>[this]</code> closure will capture the enclosing class' <code>this</code> pointer (by value) particularly.</p>
<h3><a class="anchor" id="Exceptions"></a>
Error Handling</h3>
<p>Remember that Carna does use exceptions for error handling, therefore, you should take care of catching them when using Carna. The most simple way of accomplishing this is using <a class="el" href="class_carna_1_1base_1_1_application.html">Carna::base::Application</a> instead of QApplication: When doing so, all exceptions - that are not catched in some other way - will be reported to the user as alert dialogs. You can still catch any specific exceptions on your own and process them in any way you like when using <a class="el" href="class_carna_1_1base_1_1_application.html">Carna::base::Application</a>. All further examples on this page do use <a class="el" href="class_carna_1_1base_1_1_application.html">Carna::base::Application</a>.</p>
<h2><a class="anchor" id="FullExamples"></a>
Full Examples</h2>
<p>This section offers these examples:</p>
<ul>
<li><a class="el" href="_quick_start.html#VolumeRenderingExample">Volume Visualization Example Code</a></li>
<li><a class="el" href="_quick_start.html#SlicePlaneExample">Slice Plane Visualization Example Code</a></li>
<li><a class="el" href="_quick_start.html#MPRExample">MPR Example Code</a></li>
</ul>
<p>Take the below code snippet as a basic frame:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;Carna/dicom/DicomSceneFactory.h&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_8h.html" title="Defines Carna::base::model::Scene.">Carna/base/model/Scene.h</a>&gt;</span>

 <span class="keyword">template</span>&lt; <span class="keyword">typename</span> Demo &gt;
 <span class="keyword">static</span> <span class="keywordtype">int</span> runDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
 {
     Demo demo( argc, argv );

  <span class="comment">// create data model</span>

     Carna::dicom::DicomSceneFactory sceneFactory;
     std::unique_ptr&lt; Carna::base::model::Scene &gt; scene( sceneFactory.createFromUserInput() );

  <span class="comment">// run demo</span>

     <span class="keywordflow">return</span> demo.exec( *scene );
 };
</pre></div><p>Then, for any of the following examples, proceed like this:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
 {
     <span class="keywordflow">return</span> runDemo&lt; VolumeVisualizationDemo &gt;( argc, argv );
 }
</pre></div><h3><a class="anchor" id="VolumeRenderingExample"></a>
Volume Visualization Example Code</h3>
<p>The nomenclature of Carna entitles such visualizations as <em>volume visualizations</em>, which do utilize <a class="el" href="class_carna_1_1_volume_renderings_1_1_default_volume_renderer.html#VolumeRendererRayMarching">Ray Marching</a> as their rendering technique. The image below shows screenshots of exemplary renderings, produced by the code that is provided here.</p>
<div class="image">
<img src="VolumeRenderer2.png" alt="VolumeRenderer2.png"/>
<div class="caption">
Exemplary volume renderings, from left to right: digitally reconstructed radiograph, direct volume rendering, maximum intensity projection</div></div>
<p>Interface definition:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="_application_8h.html" title="Defines Carna::base::Application.">Carna/base/Application.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_provider_8h.html" title="Defines Carna::base::view::SceneProvider.">Carna/base/view/SceneProvider.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_display_8h.html" title="Defines Carna::base::qt::Display.">Carna/base/qt/Display.h</a>&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_default_volume_visualization_8h.html" title="Defines Carna::VolumeRenderings::DefaultVolumeVisualization.">Carna/VolumeRenderings/DefaultVolumeVisualization.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_volume_renderer_8h.html" title="Defines Carna::VolumeRenderings::VolumeRenderer.">Carna/VolumeRenderings/VolumeRenderer.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_volume_controller_u_i_8h.html" title="Defines Carna::VolumeRenderings::VolumeControllerUI.">Carna/VolumeRenderings/VolumeControllerUI.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_x_ray_8h.html" title="Defines Carna::VolumeRenderings::DRR::XRay.">Carna/VolumeRenderings/DRR/XRay.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_maximum_intensity_projection_8h.html" title="Defines Carna::VolumeRenderings::MIP::MaximumIntensityProjection.">Carna/VolumeRenderings/MIP/MaximumIntensityProjection.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_direct_volume_rendering_8h.html" title="Defines Carna::VolumeRenderings::DVR::DirectVolumeRendering.">Carna/VolumeRenderings/DVR/DirectVolumeRendering.h</a>&gt;</span>

 <span class="keyword">class </span>VolumeVisualizationDemo : <span class="keyword">public</span> Carna::base::Application
 {

 <span class="keyword">public</span>:

     VolumeVisualizationDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );

     <span class="keywordtype">int</span> exec( Carna::Model&amp; model );

 };

 VolumeVisualizationDemo::VolumeVisualizationDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
     : Carna::base::Application( argc, argv )
 {
 }
</pre></div><p>Implementation:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> VolumeVisualizationDemo::exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene )
 {
     <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">Carna::VolumeRenderings::VolumeVisualization</a>* <span class="keyword">const</span> view = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">Carna::VolumeRenderings::DefaultVolumeVisualization</a>();

  <span class="comment">// setup renderer</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html" title="VolumeRendererMode that implements Digital Radiograph Reconstruction (DRR).">Carna::VolumeRenderings::DRR::XRay</a>( scene ) );
             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_m_i_p_1_1_maximum_intensity_projection.html" title="VolumeRendererMode implementation that provides a maximum intensity projection.">Carna::VolumeRenderings::MIP::MaximumIntensityProjection</a>() );
             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html" title="VolumeRendererMode implementation which simulates light absorption on the basis of a color map...">Carna::VolumeRenderings::DVR::DirectVolumeRendering</a>( scene ) );

          <span class="comment">// set initial mode</span>

             view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_v_r_1_1_direct_volume_rendering.html#a776265a5d4b0bf32bb5e9ee287e2e1ad" title="Holds the human-readable name of this volume rendering mode.">Carna::VolumeRenderings::DVR::DirectVolumeRendering::NAME</a> );
         }
     );

  <span class="comment">// create controller UI</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html" title="Volume renderings configuration widget">Carna::VolumeRenderings::VolumeControllerUI</a>* <span class="keyword">const</span> controller_ui =
                 <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_controller_u_i.html" title="Volume renderings configuration widget">Carna::VolumeRenderings::VolumeControllerUI</a>( view-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>(), model );

             controller_ui-&gt;setAttribute( Qt::WA_DeleteOnClose );
             controller_ui-&gt;show();
         }
     );
 
  <span class="comment">// run</span>

     <a class="code" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e...">Carna::base::view::SceneProvider</a> provider( scene );
     <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>* <span class="keyword">const</span> display
         = <span class="keyword">new</span> <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>( view, provider ); <span class="comment">// takes ownership of &#39;view&#39;</span>

     display-&gt;setAttribute( Qt::WA_DeleteOnClose );
     display-&gt;show();

     <span class="keywordflow">return</span> QApplication::exec();
 }
</pre></div><p>Refer to the <a class="el" href="class_carna_1_1_volume_renderings_1_1_volume_renderer.html">VolumeRenderer</a> documentation for detailed information on how to adjust the volume visualization.</p>
<h3><a class="anchor" id="SlicePlaneExample"></a>
Slice Plane Visualization Example Code</h3>
<p>The image below is a screenshot of an exemplary rendering, produced by the code that is provided here.</p>
<div class="image">
<img src="SlicePlaneView02.png" alt="SlicePlaneView02.png"/>
<div class="caption">
Exemplary rendering of a cross section plane with (1,1,1) normal vector</div></div>
<p>The plane is defined by a normal vector and it's distance to the origin in <a class="el" href="_coordinate_systems.html#VolumeSpace">volume space coordinates</a>. Refer to the <a class="el" href="class_carna_1_1_slice_planes_1_1_slice_plane_renderer.html#a4df8e2b3132181453a31a5209ea92d69">SlicePlaneRenderer::setPlane</a> method for details, or to the <a class="el" href="class_carna_1_1_slice_planes_1_1_slice_plane_renderer.html">SlicePlaneRenderer</a> class for the full API documentation.</p>
<p>Interface definition:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="_application_8h.html" title="Defines Carna::base::Application.">Carna/base/Application.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_provider_8h.html" title="Defines Carna::base::view::SceneProvider.">Carna/base/view/SceneProvider.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_display_8h.html" title="Defines Carna::base::qt::Display.">Carna/base/qt/Display.h</a>&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_default_slice_plane_visualization_8h.html" title="Defines Carna::SlicePlanes::DefaultSlicePlaneVisualization.">Carna/SlicePlanes/DefaultSlicePlaneVisualization.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_slice_plane_renderer_8h.html" title="Defines Carna::SlicePlanes::SlicePlaneRenderer.">Carna/SlicePlanes/SlicePlaneRenderer.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_slice_plane_controller_u_i_8h.html" title="Defines Carna::SlicePlanes::SlicePlaneControllerUI.">Carna/SlicePlanes/SlicePlaneControllerUI.h</a>&gt;</span>

 <span class="keyword">class </span>SlicePlaneVisualizationDemo : <span class="keyword">public</span> Carna::base::Application
 {

 <span class="keyword">public</span>:

     SlicePlaneVisualizationDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );

     <span class="keywordtype">int</span> exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene );

 };
</pre></div><p>Implementation:</p>
<div class="fragment"><pre class="fragment"> SlicePlaneVisualizationDemo::SlicePlaneVisualizationDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
     : Carna::base::Application( argc, argv )
 {
 }

 <span class="keywordtype">int</span> SlicePlaneVisualizationDemo::exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene )
 {
     <a class="code" href="class_carna_1_1_slice_planes_1_1_slice_plane_visualization.html" title="Abstract implementation of the Visualization class that is supposed to visualize any custom slice pla...">Carna::SlicePlanes::SlicePlaneVisualization</a>* <span class="keyword">const</span> view = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_slice_planes_1_1_default_slice_plane_visualization.html" title="Visualizes any custom slice planes using the SlicePlaneRenderer.">Carna::SlicePlanes::DefaultSlicePlaneVisualization</a>();

  <span class="comment">// setup renderer</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             view-&gt;<a class="code" href="class_carna_1_1_slice_planes_1_1_slice_plane_visualization.html#aad77c28ed9ee2e2f18d8c359ea8b9655" title="References the mutable composed renderer.">renderer</a>().setPlane( TRTK::Coordinate&lt; double &gt;( 0, 0, 1 ), 0.5 );
         }
     );

  <span class="comment">// create controller UI</span>

     view-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             <a class="code" href="class_carna_1_1_slice_planes_1_1_slice_plane_controller_u_i.html" title="Controller component of SlicePlaneVisualization.">Carna::SlicePlanes::SlicePlaneControllerUI</a>* <span class="keyword">const</span> controller_ui =
                 <span class="keyword">new</span> <a class="code" href="class_carna_1_1_slice_planes_1_1_slice_plane_controller_u_i.html" title="Controller component of SlicePlaneVisualization.">Carna::SlicePlanes::SlicePlaneControllerUI</a>( view-&gt;<a class="code" href="class_carna_1_1_slice_planes_1_1_slice_plane_visualization.html#aad77c28ed9ee2e2f18d8c359ea8b9655" title="References the mutable composed renderer.">renderer</a>() );

             controller_ui-&gt;setAttribute( Qt::WA_DeleteOnClose );
             controller_ui-&gt;show();
         }
     );
 
  <span class="comment">// run</span>

     <a class="code" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e...">Carna::base::view::SceneProvider</a> provider( scene );
     <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>* <span class="keyword">const</span> display
         = <span class="keyword">new</span> <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>( view, provider ); <span class="comment">// takes ownership of &#39;view&#39;</span>

     display-&gt;setAttribute( Qt::WA_DeleteOnClose );
     display-&gt;show();

     <span class="keywordflow">return</span> QApplication::exec();
 }
</pre></div><p>Refer to the <a class="el" href="class_carna_1_1_slice_planes_1_1_slice_plane_renderer.html">SlicePlaneRenderer</a> documentation for detailed information on how to adjust the slice plane visualization.</p>
<h3><a class="anchor" id="MPRExample"></a>
MPR Example Code</h3>
<p>The image below is a screenshot of an exemplary MPR rendering.</p>
<div class="image">
<img src="MPR01.png" alt="MPR01.png"/>
<div class="caption">
Exemplary MPR rendering</div></div>
<p>With Carna, <em>multi planar reformats</em> are typically realized through an array of three-four <a class="el" href="class_carna_1_1_m_p_r_1_1_default_axial_plane_visualization.html">axial-plane visualizations</a>. Nevertheless, those of course can also be used singly instead of in an array.</p>
<p>Interface definition:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="_application_8h.html" title="Defines Carna::base::Application.">Carna/base/Application.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_provider_8h.html" title="Defines Carna::base::view::SceneProvider.">Carna/base/view/SceneProvider.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_display_8h.html" title="Defines Carna::base::qt::Display.">Carna/base/qt/Display.h</a>&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_default_axial_plane_visualization_8h.html" title="Defines Carna::MPR::DefaultAxialPlaneVisualization.">Carna/MPR/DefaultAxialPlaneVisualization.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_axial_plane_renderer_8h.html" title="Defines Carna::MPR::AxialPlaneRenderer.">Carna/MPR/AxialPlaneRenderer.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_axial_plane_controller_u_i_8h.html" title="Defines Carna::MPR::AxialPlaneControllerUI.">Carna/MPR/AxialPlaneControllerUI.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_intersection_synchronisation_factory_8h.html" title="Defines Carna::MPR::IntersectionSynchronisationFactory.">Carna/MPR/IntersectionSynchronisationFactory.h</a>&gt;</span>

 <span class="keyword">class </span>MPRDemo : <span class="keyword">public</span> Carna::base::Application
 {

     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initializedVisualizationsCount;
     std::vector&lt; Carna::MPR::AxialPlaneVisualization* &gt; views;
     <a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_controller_u_i.html" title="Configuration widget for a set of views.">Carna::MPR::AxialPlaneControllerUI</a>* controller_ui;

 <span class="keyword">public</span>:

     MPRDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );

     <span class="keywordtype">int</span> exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene );

 <span class="keyword">private</span>:

     <span class="keywordtype">void</span> setupRenderers();

 };
</pre></div><p>Implementation:</p>
<div class="fragment"><pre class="fragment"> MPRDemo::MPRDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
     : Carna::base::Application( argc, argv )
     , views( 4 )
 {
 }

 <span class="keywordtype">int</span> MPRDemo::exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene )
 {
     controller_ui = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_m_p_r_1_1_axial_plane_controller_u_i.html" title="Configuration widget for a set of views.">Carna::MPR::AxialPlaneControllerUI</a>( scene );

     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 4; ++i )
     {
         views[ i ] = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_m_p_r_1_1_default_axial_plane_visualization.html" title="Implementation of the AxialPlaneVisualization class that displays the orthogonal intersections  of th...">Carna::MPR::DefaultAxialPlaneVisualization</a>( scene );
     }

  <span class="comment">// configure</span>
 
     views[ 0 ]-&gt;makeFrontView();
     views[ 1 ]-&gt;makeLeftView();
     views[ 2 ]-&gt;makeTopView();
     views[ 3 ]-&gt;makeRotatableView();

  <span class="comment">// run</span>

     initializedVisualizationsCount = 0;
     <a class="code" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e...">Carna::base::view::SceneProvider</a> provider( scene );
     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 4; ++i )
     {
         <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>* <span class="keyword">const</span> display
             = <span class="keyword">new</span> <a class="code" href="class_carna_1_1base_1_1qt_1_1_display.html" title="Simple widget that&#39;s only purpose is embedding any given visualization into a Qt based user interface...">Carna::base::qt::Display</a>( views[ i ], provider ); <span class="comment">// takes ownership of &#39;views[ i ]&#39;</span>

         display-&gt;setAttribute( Qt::WA_DeleteOnClose );
         display-&gt;resize( 200, 200 );
         display-&gt;show();

         views[ i ]-&gt;doAfterInitialization( [&amp;]()
             {
                 <span class="keywordflow">if</span>( ++initializedVisualizationsCount == 4 )
                 {
                     setupRenderers();
                 }
             }
         );
     }

     <span class="keywordflow">return</span> QApplication::exec();
 }

 <span class="keywordtype">void</span> MPRDemo::setupRenderers()
 {
     <a class="code" href="class_carna_1_1_m_p_r_1_1_intersection_synchronisation_factory.html" title="Makes a set of renderers use the same intersection.">Carna::MPR::IntersectionSynchronisationFactory</a> intersection_sync;

     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 4; ++i )
     {
         intersection_sync.<a class="code" href="class_carna_1_1_m_p_r_1_1_intersection_synchronisation_factory.html#a2a7c7c5d9096c0a0372f96bb8658da24" title="Appends a renderer.">addRenderer</a>( views[ i ]-&gt;renderer() );
         controller_ui-&gt;addRenderer( views[ i ]-&gt;renderer() );
     }

     intersection_sync.<a class="code" href="class_carna_1_1_m_p_r_1_1_intersection_synchronisation_factory.html#a35c614554d7309c8f5cbd622f528394b" title="Makes the currently configured renderer assembly use the same intersection.">create</a>();

     controller_ui-&gt;setDeletedWhenEmpty( <span class="keyword">true</span> );
     controller_ui-&gt;setAttribute( Qt::WA_DeleteOnClose );
     controller_ui-&gt;show();
 }
</pre></div><h3><a class="anchor" id="OffscreenRenderingExample"></a>
Offscreen Rendering Example Code</h3>
<p>Offscreen rendering as an "out of the box" feature is supported since Carna <a class="el" href="_version_log.html#v_2_1_5">API Version 2.1.5</a>.</p>
<p>Interface definition:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="_application_8h.html" title="Defines Carna::base::Application.">Carna/base/Application.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_scene_provider_8h.html" title="Defines Carna::base::view::SceneProvider.">Carna/base/view/SceneProvider.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_version_8h.html" title="Defines the macros CARNA_MAJOR_VERSION, CARNA_MINOR_VERSION, CARNA_PATCH_VERSION and CARNA_ASSERT_API...">Carna/Version.h</a>&gt;</span>

<span class="preprocessor"> #include &lt;Carna/base/view/OffscreenDisplay.h&gt;</span>
<span class="preprocessor"> #include &lt;Carna/base/view/OffscreenVisualizationEnvironment.h&gt;</span>

<span class="preprocessor"> #include &lt;<a class="code" href="_volume_renderer_8h.html" title="Defines Carna::VolumeRenderings::VolumeRenderer.">Carna/VolumeRenderings/VolumeRenderer.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_default_volume_visualization_8h.html" title="Defines Carna::VolumeRenderings::DefaultVolumeVisualization.">Carna/VolumeRenderings/DefaultVolumeVisualization.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_x_ray_8h.html" title="Defines Carna::VolumeRenderings::DRR::XRay.">Carna/VolumeRenderings/DRR/XRay.h</a>&gt;</span>

 static_assert(
         <a class="code" href="_version_8h.html#a109c2e19927c6e40c15272fe1c916c2d" title="Defines the API major version number of this Carna implementation.">CARNA_MAJOR_VERSION</a> == 2 &amp;&amp;
                 ( <a class="code" href="_version_8h.html#a7d492cfb037dc3861259d167dd22d3df" title="Defines the API minor version number of this Carna implementation.">CARNA_MINOR_VERSION</a> &gt; 1 || ( <a class="code" href="_version_8h.html#a7d492cfb037dc3861259d167dd22d3df" title="Defines the API minor version number of this Carna implementation.">CARNA_MINOR_VERSION</a> == 1 &amp;&amp; CARNA_RELEASE_VERSION == 5 ) ) );

 <span class="keyword">class </span>OffscreenRenderingDemo : <span class="keyword">public</span> Carna::base::Application
 {

 <span class="keyword">public</span>:

     OffscreenRenderingDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );

     <span class="keywordtype">int</span> exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene );

 };

 OffscreenRenderingDemo::OffscreenRenderingDemo( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )
     : Carna::base::Application( argc, argv )
 {
 }
</pre></div><p>Implementation:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> OffscreenRenderingDemo::exec( <a class="code" href="class_carna_1_1base_1_1model_1_1_scene.html" title="Defines the data model.">Carna::base::model::Scene</a>&amp; scene )
 {
     <a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html" title="Abstract implementation of the Visualization class that is supposed to perform volume rendering using...">Carna::VolumeRenderings::VolumeVisualization</a>* visualization = <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_default_volume_visualization.html" title="Visualization that performs volume rendering.">Carna::VolumeRenderings::DefaultVolumeVisualization</a>();
         visualization-&gt;<a class="code" href="class_carna_1_1base_1_1_visualization.html#a158f4074d4c8abf763ada287b4de27bc" title="Invokes the given function as soon as it is legal to access the renderer.">doAfterInitialization</a>( [&amp;]()
         {
             visualization-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().installMode( <span class="keyword">new</span> <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html" title="VolumeRendererMode that implements Digital Radiograph Reconstruction (DRR).">Carna::VolumeRenderings::DRR::XRay</a>( scene ) );
             visualization-&gt;<a class="code" href="class_carna_1_1_volume_renderings_1_1_volume_visualization.html#aa80f4d46bdb0287ab01125944aed6d63" title="References the mutable composed renderer.">renderer</a>().setMode( <a class="code" href="class_carna_1_1_volume_renderings_1_1_d_r_r_1_1_x_ray.html#a01860050bbf2b6ce332eee279d21c908" title="Holds the human-readable name of this volume rendering mode.">Carna::VolumeRenderings::DRR::XRay::NAME</a> );
         }
     );

     <a class="code" href="class_carna_1_1base_1_1view_1_1_scene_provider.html" title="Interfaces the data model from a view&#39;s perspective and provides graphical representations of model e...">Carna::base::view::SceneProvider</a> provider( scene );
     <a class="code" href="class_carna_1_1base_1_1_offscreen_visualization_environment.html" title="Represents the visualization environment for offscreen rendering.">Carna::base::OffscreenVisualizationEnvironment</a> enviroment;
     <a class="code" href="class_carna_1_1base_1_1_offscreen_display.html" title="Performs offscreen rendering to texture.">Carna::base::OffscreenDisplay</a> display( enviroment, 500, 300, visualization, provider );

     QLabel window;
     window.setPixmap( QPixmap::fromImage( display.framebuffer() ) );
     window.setFixedSize( display.width(), display.height() );
     window.show();

     <span class="keywordflow">return</span> Carna::base::Application::exec();
 }
</pre></div><p>Notice that in versions prior to <a class="el" href="_version_log.html#v_2_5">API Version 2.5</a> it was necessary to mirror the image retrieved via <a class="el" href="class_carna_1_1base_1_1_offscreen_display.html#a140f598a884cb8f5625767364c3cad9c">OffscreenDisplay::framebuffer</a> before displaying, in order to produce the same results as with on-screen rendering, since OpenGL textures are conventionally upside-down.</p>
<h2><a class="anchor" id="QuickStartLifetimes"></a>
Objects Lifetime Considerations</h2>
<p>The lifetimes of the involved objects are defined as follows:</p>
<ul>
<li><code>modelFactory</code> is of no value after <code>createFromUserInput</code> has been invoked. It may be destroyed right after.</li>
<li><code>model</code> is aggregated by <code>scene</code>. It must exist at least as long as <code>scene</code>.</li>
<li>Every <code>view</code> is aggregated with a <code>scene</code> instance. Therefore, the lifetime of <code>scene</code> must be at least as long as the lifetime of all aggregating views.</li>
<li>The lifetime of a <code>view</code> is not further specified.</li>
</ul>
<p>In Carna, passing a C++ reference is always as sign of <em>aggregation</em>. In contrast, a pointer is typically returned when ownership is given up and a pointer is taken when ownership is received respectively: Pointers in interfaces always indicate <em>composition</em>. </p>
</div></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
			Written by <a href="http://evoid.de">Leonid Kostrykin</a> at the
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
